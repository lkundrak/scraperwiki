{% extends "frontend/base.html" %}

{% block title %}Your scrapers{% endblock %}

{% block header %}
	<h2>Your dashboard</h2>
	<p>Scrapers and views you own or have edited
	{% ifnotequal owned_or_edited_code_objects_pagenated.paginator.num_pages 1 %} 
	    &bull; page {{ owned_or_edited_code_objects_pagenated.number }} of {{ owned_or_edited_code_objects_pagenated.paginator.num_pages }}
	{% endifnotequal %}
	<!--Go to <a href="{% url profiles_profile_detail user.username %}">your profile page</a>.--></p>
{% endblock %}

{% block content %}

<div class="content">
    {% if owned_or_edited_code_objects_pagenated.object_list %}
      <ul class="scraper_list">
      {% for code in owned_or_edited_code_objects_pagenated.object_list %}
        {% with 1 as on_dashboard %}
            {% include 'frontend/includes/code_object_line.html' %}
        {% endwith %}
      {% endfor %}
    </ul>
  {% else %}
    <p>You have not yet contributed to any scrapers or views.</p>
    <p><a href="{% url choose_template 'scraper' %}" title="Create a new screen scraper" class="editor_scraper">New scraper</a> / <a href="{% url choose_template 'view' %}" title="Create a new view" class="editor_view">view</a>

  {% endif %}

  <div class="pagination">
  <span class="step_links">
    {% if owned_or_edited_code_objects_pagenated.has_previous %}
      <a href="{% url dashboard owned_or_edited_code_objects_pagenated.previous_page_number %}">previous</a>
    {% endif %}

    {% ifnotequal owned_or_edited_code_objects_pagenated.paginator.num_pages 1 %}
      <span class="current">
        Page {{ owned_or_edited_code_objects_pagenated.number }} of {{owned_or_edited_code_objects_pagenated.paginator.num_pages}}
      </span>
    {% endifnotequal %}

    {% if owned_or_edited_code_objects_pagenated.has_next %}
       <a href="{% url dashboard owned_or_edited_code_objects_pagenated.next_page_number %}">next</a>
    {% endif %}
  </span>
  </div>
</div>


{% endblock %}
